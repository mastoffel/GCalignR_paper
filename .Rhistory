install_packages("mastoffel/GCalignR")
library(devtools)
install_packages("mastoffel/GCalignR")
install_github("mastoffel/GCalignR")
install.packages("devtools") devtools::install_github("mastoffel/GCalignR",
build_vignettes = TRUE)
install.packages("devtools") devtools::install_github("mastoffel/GCalignR",
build_vignettes = TRUE)
install.packages("devtools")
devtools::install_github("mastoffel/GCalignR",build_vignettes = TRUE)
library(GCalignR)
?GCalignR
library(GCalignR)
?GCalignR
30*10/300
install.packages("rticles", type = "source")
devtools::install_github("cboettig/knitcitations@v1")
install.packages(bibtex)
install.packages("bibtex")
devtools::install_github("cboettig/knitcitations@v1")
install.packages("XML")
devtools::install_github("cboettig/knitcitations@v1")
install.packages("lubridate")
devtools::install_github("cboettig/knitcitations@v1")
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
500/1000
2*0.46+0.54
22+1.46+1.46
2*46
pkg <- c("dplyr", "knitr", "devtools", "DT", "xtable")
library(dplyr)
library(knitr)
library(DT)
installed.packages("DT")
install.packages("DT")
install.packages("xtable")
library(dplyr)
library(knitr)
library(DT)
library(xtable)
table_1 <- read.csv("Literature search/Published Tools.csv")
table_1 <- read.csv("Literature search/Published Tools.csv",header = T, skip = 1)
View(table_1)
table_1 <- read.csv("Literature search/Published Tools.csv",header = T, skip = 1, sep = ";")
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = TRUE) # warning = FALSE
table_1 <- read.csv("Literature search/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "grid", caption = "Hello caption!")
table_1 <- read.csv("Literature search/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "grid", caption = "Hello caption!",split.table = Inf)
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("Literature search/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "grid", caption = "Hello caption!",split.table = Inf)
table_1 <- read.csv("Literature search/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("Literature search/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "Literature search/data_1/Table_S1_raw.csv")
check_input(data = "Literature search/data_1/Table_S1_raw.txt")
check_input(data = "data/data_1/Table_S1_raw.txt")
check_input(data = "data/d1/Table_S1_raw.txt")
?`GCalignR-package`
check_input(data = "data/d1/Table_S1_raw.txt")
check_input(data = "data/d1/Table_S1_raw.txt")
check_input(data = "data/d1/Table_S1_raw.txt",sep = "/t")
check_input(data = "data/d1/Table_S1_raw.txt",sep = "\t")
?check_input
check_input
check_input(data = "data/d1/Table_S1_raw.txt",sep = "\t")
check_input(data = "data/d1/Table_S1_raw.txt",sep = "\t", list_peaks = T)
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("Literature search/Published Tools.csv",header = T, skip = 1, sep = ";")
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
check_input(data = "data/d1/Table_S1_cleaned.txt")
load("~/GitHub/GCalignR_paper/data/d1/Table_aligned.RData")
gc_heatmap(aligned)
gc_heatmap(aligned, threshold = 0.02)
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
load(file = "data/d1/Table_aligned.RData")
factors <- read.csv("data/d1/Table_S1_factors.csv")
save(aligned, file = "data/d1/Table_S1_aligned.RData")
load(file = "data/d1/Table_S1_aligned.RData")
print(align_chromatograms())
print(aligned)
plot(aligned)
gc_heatmap(aligned)
gc_heatmap(aligned, threshold = 0.3)
rt_var <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
View(rt_var)
samples <- rt_var[1,]
samples
samples <- rt_var[[1,]]
samples[1]
samples[[1]]
samples[[1:2]]
samples
samples <- rt_var[1,11]
samples <- rt_var[1,11]
samples
samples <- rt_var[1,1:11]
samples
samples <- as.character(rt_var[1,1:11])
samples
samples <- as.factor(rt_var[1,1:11])
samples <- as.character(rt_var[1,1:11])
samples
rt_var[1,1:11]
samples <- rt_var[1,1:11]
samples
as.character(samples)
as.factor(samples)
str(samples)
str(rt_var)
dim(rt_var)
rt <- rt_var[3:61,seq(3,31,3)]
View(rt)
rt <- rt_var[3:61,seq(1,31,3)]
colnames(rt)
t2 <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
rt_var <- t2[3:61,seq(1,31,3)]
t2 <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
t2 <- t2[3:61,seq(1,31,3)]
rt_var <- data.frame(rt = rowMeans(t2, na.rm = T), var = var(t2,na.rm = T))
str(t2)
rowMeans(t2)
t2 <- as.numeric(t2)
class(t2)
t2 <- as.matrix(t2)
t2 <- as.numeric(t2)
rt_var <- data.frame(rt = rowMeans(t2, na.rm = T), var = var(t2,na.rm = T))
str(t2)
t2
View(t2)
t2 <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
t2 <- t2[3:61,seq(1,31,3)]
t2 <- as.matrix(t2)
t2 <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
t2 <- t2[3:61,seq(1,31,3)]
t2 <- apply(t2, MARGIN = 2, as.numeric)
rt_var <- data.frame(rt = rowMeans(t2, na.rm = T), var = var(t2,na.rm = T))
rowMeans(t2, na.rm = T)
rt_var <- data.frame(rt = rowMeans(t2, na.rm = T), var = apply(t2, 2, var, na.rm = T))
apply(t2, 2, var, na.rm = T)
rt_var <- data.frame(rt = rowMeans(t2, na.rm = T), var = apply(t2, 1, var, na.rm = T))
View(rt_var)
apply(t2,1, max - min)
apply(t2,1, max)
apply(t2,1, function(x) max(x) - min(x))
t2 <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
t2 <- t2[3:61,seq(1,31,3)]
t2 <- apply(t2, MARGIN = 2, as.numeric)
rt_var <- data.frame(rt = rowMeans(t2, na.rm = T), var = apply(t2, 1, var, na.rm = T), range = apply(t2,1, function(x) max(x) - min(x))
)
with(rt_var,plot(rt,range))
median(rt_var$range)
median(na.omit(rt_var$range))
mean(na.omit(rt_var$range))
min(na.omit(rt_var$range))
max(na.omit(rt_var$range))
diff(rt_var$rt)
sort(diff(rt_var$rt))
aligned$aligned$RT
View(aligned$aligned$RT)
View(t2)
median(diff(rt_var$rt))
min(diff(rt_var$rt))
max(diff(rt_var$rt))
View(rt_var)
scent <- norm_peaks(aligned,conc_col_name = "Area",rt_col_name = "RT",out = "data.frame")
scent <- log(scent + 1)
library(vegan)
rm(list = ls())
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
# aligned data
load(file = "data/d1/Table_S1_aligned.RData")
# factors
factors <- read.csv("data/d1/Table_S1_factors.csv")
t2 <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
# get the retention times
t2 <- t2[3:61,seq(1,31,3)]
t2 <- apply(t2, MARGIN = 2, as.numeric)
rt_var <- data.frame(rt = rowMeans(t2, na.rm = T), var = apply(t2, 1, var, na.rm = T), range = apply(t2,1, function(x) max(x) - min(x)))
rm(list = ls())
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
# aligned data
load(file = "data/d1/Table_S1_aligned.RData")
# factors
factors <- read.csv("data/d1/Table_S1_factors.csv")
t2 <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
# get the retention times
t2 <- t2[3:61,seq(1,31,3)]
t2 <- apply(t2, MARGIN = 2, as.numeric)
t2 <- data.frame(rt = rowMeans(t2, na.rm = T), var = apply(t2, 1, var, na.rm = T), range = apply(t2,1, function(x) max(x) - min(x)))
scent <- norm_peaks(aligned,conc_col_name = "Area",rt_col_name = "RT",out = "data.frame")
scent <- log(scent + 1)
library(vegan)
row.names(scent)
row.names(factors)
View(factors)
factors <- read.csv("data/d1/Table_S1_factors.csv",sep = ";")
row.names(factors) <- factors[["ID"]]
scent <- scent[match(row.names(factors),row.names(scent)),] # bring both to the same order
scent_nmds <- vegan::metaMDS(comm = scent)
scent_nmds <- as.data.frame(scent_nmds$points)
scent_nmds <- cbind(scent_nmds,species = factors[["species"]])
factors[["species"]])
factors[["species"]]
factors$Species
scent_nmds <- cbind(scent_nmds,species = factors[["Species"]])
ggplot2::ggplot(data = scent_nmds,ggplot2::aes(MDS1,MDS2,color = Species)) +
ggplot2::geom_point(size = 4) + ggplot2::stat_ellipse(size = 2) + ggplot2::labs(title = "", x = "MDS1", y = "MDS2") + ggplot2::theme_void()
scent_nmds <- cbind(scent_nmds,Species = factors[["Species"]])
ggplot2::ggplot(data = scent_nmds,ggplot2::aes(MDS1,MDS2,color = Species)) +
ggplot2::geom_point(size = 4) + ggplot2::stat_ellipse(size = 2) + ggplot2::labs(title = "", x = "MDS1", y = "MDS2") + ggplot2::theme_void()
scent <- norm_peaks(aligned,conc_col_name = "Area",rt_col_name = "RT",out = "data.frame")
scent <- log(scent + 1)
library(vegan)
scent <- scent[match(row.names(factors),row.names(scent)),]
scent_nmds <- vegan::metaMDS(comm = scent)
scent_nmds <- as.data.frame(scent_nmds$points)
scent_nmds <- cbind(scent_nmds,Species = factors[["Species"]])
ggplot2::ggplot(data = scent_nmds,ggplot2::aes(MDS1,MDS2,color = Species)) +
ggplot2::geom_point(size = 4) + ggplot2::stat_ellipse(size = 2) + ggplot2::labs(title = "", x = "MDS1", y = "MDS2") + ggplot2::theme_void()
aligned
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
check_input(data = "data/d1/Table_S1_cleaned.txt")
aligned <- align_chromatograms(data = "data/d1/Table_S1_raw.txt",
conc_col_name = "Area",
max_diff_peak2mean = 0.03,
min_diff_peak2peak = 0.1,
rt_col_name = "RT",
delete_single_peak = F,
merge_rare_peaks = F)
save(aligned, file = "data/d1/Table_S1_aligned.RData")
summary(aligned)
print(aligned)
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
check_input(data = "data/d1/Table_S1_cleaned.txt")
aligned <- align_chromatograms(data = "data/d1/Table_S1_raw.txt",
conc_col_name = "Area",
max_diff_peak2mean = 0.03,
min_diff_peak2peak = 0.1,
rt_col_name = "RT",
delete_single_peak = F,
merge_rare_peaks = F)
# aligned data
load(file = "data/d1/Table_S1_aligned.RData")
# factors
factors <- read.csv("data/d1/Table_S1_factors.csv",sep = ";")
row.names(factors) <- factors[["ID"]]
t2 <- read.csv("data/d1/Table_S2_modified.txt", skip = 1, sep = "\t", header = FALSE)
# get the retention times
t2 <- t2[3:61,seq(1,31,3)]
t2 <- apply(t2, MARGIN = 2, as.numeric)
t2 <- data.frame(rt = rowMeans(t2, na.rm = T), var = apply(t2, 1, var, na.rm = T), range = apply(t2,1, function(x) max(x) - min(x)))
scent <- norm_peaks(aligned,conc_col_name = "Area",rt_col_name = "RT",out = "data.frame")
scent <- log(scent + 1)
library(vegan)
scent <- scent[match(row.names(factors),row.names(scent)),]
scent_nmds <- vegan::metaMDS(comm = scent)
scent_nmds <- as.data.frame(scent_nmds$points)
scent_nmds <- cbind(scent_nmds,Species = factors[["Species"]])
ggplot2::ggplot(data = scent_nmds,ggplot2::aes(MDS1,MDS2,color = Species)) +
ggplot2::geom_point(size = 4) + ggplot2::stat_ellipse(size = 2) + ggplot2::labs(title = "", x = "MDS1", y = "MDS2") + ggplot2::theme_void()
gc_heatmap(aligned)
gc_heatmap(aligned, threshold = 10)
View(aligned$aligned$RT)
0.05*6ß
0.05*60
2/60
library(knitcitations)
cleanbib()
cite_options(citation_format = "pandoc", check.entries = FALSE)
library(bibtex)
library(pander)
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", cache = FALSE)
table_1 <- read.csv("data/Published Tools.csv",header = T, skip = 1, sep = ";")
pandoc.table(na.omit(table_1), style = "multiline", caption = "Peer-reviewed alignment tools for gas-chromatography data. Note: Unlisted are programs using mass-spectra of GC-MS runs",split.table = Inf)
library(GCalignR)
check_input(data = "data/d1/Table_S1_raw.txt")
check_input(data = "data/d1/Table_S1_cleaned.txt")
aligned <- align_chromatograms(data = "data/d1/Table_S1_raw.txt",
conc_col_name = "Area",
max_diff_peak2mean = 0.04,
min_diff_peak2peak = 2/60,
rt_col_name = "RT",
delete_single_peak = F,
merge_rare_peaks = F)
save(aligned, file = "data/d1/Table_S1_aligned.RData")
scent <- norm_peaks(aligned,conc_col_name = "Area",rt_col_name = "RT",out = "data.frame")
scent <- log(scent + 1)
library(vegan)
scent <- scent[match(row.names(factors),row.names(scent)),]
scent_nmds <- vegan::metaMDS(comm = scent)
scent_nmds <- as.data.frame(scent_nmds$points)
scent_nmds <- cbind(scent_nmds,Species = factors[["Species"]])
ggplot2::ggplot(data = scent_nmds,ggplot2::aes(MDS1,MDS2,color = Species)) +
ggplot2::geom_point(size = 4) + ggplot2::stat_ellipse(size = 2) + ggplot2::labs(title = "", x = "MDS1", y = "MDS2") + ggplot2::theme_void()
